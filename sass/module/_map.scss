.mapBox {
  background: url('../images/mapBox_bg.png') left bottom no-repeat;
  padding-top: 30px;

  .container {
    max-width: 1000px;
  }

  .content {
    display: flex;

    @include screen('mobileMin') {
      gap: 40px;
    }
  }

  .islands {
    display: flex;
    flex-direction: column;
    gap: 20px;

    .item {
      width: 120px;
      height: 120px;

      @include screen('tablet') {
        width: 100px;
        height: 100px;
      }

      @include screen('mobile') {
        display: none;
      }

      .pic {
        width: 100%;
        height: 100%;
        padding: 10px;
        text-align: center;
        pointer-events: none;
        display: flex;
        align-items: center;
        justify-content: center;

        // img {
        //   height: 100%;
        //   object-fit: contain;
        // }

        svg {
          max-width: 100%;
          max-height: 100%;
          pointer-events: none;
        }

        .cls5 {
          fill: #ded6e4;
          stroke: #ccc;
          stroke-linecap: round;
          stroke-linejoin: round;
          stroke-width: 5px;
        }
      }



      &.clickActive,
      &.active,
      &:hover {
        .title {
          display: block;
        }

        // img {
        //   filter: saturate(400%) brightness(90%);
        // }
        .pic {
          .cls5 {
            fill: #c28deb;
          }
        }
      }
    }

    button {
      padding: 0;
      margin: 0;
      width: 100%;
      height: 100%;
      background: none;
      border: none;
      isolation: isolate;
      position: relative;
      border: #e3e3e3 1px solid;
      border-radius: 10px;
      background: #fff;
      overflow: hidden;

      &:focus-visible {
        .title {
          display: block;
        }

        // img {
        //   filter: saturate(400%) brightness(90%);
        // }

        .pic {
          .cls5 {
            fill: #a87bca;
          }
        }
      }

      // &::before {
      //   content: '';
      //   position: absolute;
      //   inset: 0;
      //   display: block;
      //   background: linear-gradient(to top, rgb(237, 237, 237) 0%, rgba(235, 236, 237, 0) 100%);
      //   z-index: -1;
      // }
    }

    .count {
      position: absolute;
      padding: 2px 5px;
      background: rgba(0, 0, 0, 0.6);
      border-radius: 5px;
      right: 10px;
      top: 10px;
      color: #fff;
      z-index: 9;
      pointer-events: none;
    }

    .title {
      position: absolute;
      font-size: Rem(16);
      padding: 2px 10px;
      background: rgba(0, 0, 0, 0.6);
      color: #fff;
      white-space: nowrap;
      border-radius: 0 5px 0 0;
      bottom: 0;
      left: 0;
      display: none;
      pointer-events: none;
    }
  }

  .mainIsland {
    width: 450px;
    flex-shrink: 0;
    position: relative;

    @include screen('tablet') {
      width: 350px;
    }

    @include screen('mobile') {
      display: none;
    }

    svg {
      width: 100%;

      a:hover,
      .active,
      .clickActive,
      a:focus-visible {
        outline: none;
        z-index: 9;

        .cls1 {
          fill: #e58787;
        }

        .cls2 {
          fill: #c7aea0;
        }

        .cls3 {
          fill: #e6b069;
        }

        .cls4 {
          fill: #cfc96c;
        }
      }

      .cls1,
      .cls2,
      .cls3,
      .cls4 {
        stroke: #fff;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 2px;

      }

      .cls1 {
        fill: #e8c5c5;
      }

      .cls2 {
        fill: #d4cfcc;
      }

      .cls3 {
        fill: #ebd2b1;
      }

      .cls4 {
        fill: #ebe8bf;
      }
    }

    .mapInfo {
      position: absolute;
      inset: 0;
      z-index: 9;
      pointer-events: none;

      .el {
        position: absolute;
        display: flex;

        &.clickActive,
        &.active {
          .title {
            display: block;
          }
        }
      }

      .count {
        width: fit-content;
        padding: 2px 5px;
        background: rgba(0, 0, 0, 0.6);
        border-radius: 5px;
        color: #fff;
      }

      .title {
        position: absolute;
        width: fit-content;
        padding: 2px 5px;
        background: rgba(0, 0, 0, 0.6);
        border-radius: 5px;
        color: #fff;
        display: none;
        white-space: nowrap;
        bottom: calc(100% + 2px);
        left: 50%;
        transform: translateX(-50%);
      }

      [data-class="keelung"] {
        top: 2%;
        right: 12%;
      }

      [data-class="taipei"] {
        top: 5%;
        right: 20%;
      }

      [data-class="newtaipei"] {
        top: 11%;
        right: 23%;
      }

      [data-class="taoyuan"] {
        top: 6%;
        right: 40%;
      }

      [data-class="hsinchuxi"] {
        top: 13%;
        right: 55%;
      }

      [data-class="hsinchucounty"] {
        top: 16%;
        right: 40%;
      }

      [data-class="yilan"] {
        top: 19%;
        right: 15%;
      }

      [data-class="miaoli"] {
        top: 21%;
        right: 58%;
      }

      [data-class="taichung"] {
        top: 29%;
        right: 66%;
      }

      [data-class="changhwa"] {
        top: 37%;
        right: 74%;
      }

      [data-class="nantuo"] {
        top: 41%;
        right: 50%;
      }

      [data-class="yunlin"] {
        top: 45%;
        right: 83%;
      }

      [data-class="chiayicounty"] {
        top: 52%;
        right: 85%;
      }

      [data-class="chiayixi"] {
        top: 53%;
        right: 73%;
      }

      [data-class="tainan"] {
        top: 60%;
        right: 83%;
      }

      [data-class="kaoshiung"] {
        top: 71%;
        right: 80%;
      }

      [data-class="pingtung"] {
        top: 83%;
        right: 65%;
      }

      [data-class="taitung"] {
        top: 70%;
        right: 45%;
      }

      [data-class="hwalien"] {
        top: 40%;
        right: 25%;
      }
    }
  }

  .cityBox {
    margin-bottom: 30px;

    .title {
      font-size: Rem(22);
      font-weight: bold;
      margin-bottom: 10px;
      padding-bottom: 10px;
      border-bottom: #ccc 1px solid;

      @include screen('tablet') {
        font-size: Rem(18);
      }
    }

    .buttonBox {
      margin-bottom: 30px;

      ul {
        padding: 0;
        margin: 0;
        list-style: none;
        display: flex;
        flex-wrap: wrap;
        gap: 5px;

        li {
          width: calc((100% - 10px * 2) / 3);
          border-radius: 8px;

          // &:first-child {
          //   width: 100%;
          // }

          &:hover,
          &.active,
          &.clickActive {
            button {
              background: #54a7d5;
            }
          }
        }
      }
    }

    button {
      width: 100%;
      border-radius: 8px;
      font-weight: 400;
      font-size: Rem(18);
      color: #fff;
      background: rgba(63, 47, 26, 0.7);
      padding: 5px 10px;
      margin: 0;

      @include screen('tablet') {
        font-size: Rem(16);
      }

      &:focus-visible {
        background: $colorPrimary;
      }

      &:hover {
        background: $colorPrimary;
      }
    }


    .tabContentBox {
      .content {
        display: none;

        &::before {
          content: '圖幅';
          font-size: Rem(22);
          font-weight: bold;
          margin-bottom: 10px;
          padding-bottom: 10px;
          display: block;
          border-bottom: #ccc 1px solid;

          @include screen('tablet') {
            font-size: Rem(18);
          }
        }

        &.active2 {
          display: block;
        }
      }

      .buttonBox {
        ul {
          li {
            width: auto;
            border-radius: 8px;
          }
        }
      }
    }
  }
}